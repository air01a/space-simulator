#:kivy 1.0.0

# content here

<ColoredLabel@Label>:
    bg_color: 1.0, 1.0, 1.0
    canvas.before:
        Color:
            rgba: self.bg_color
        Rectangle:
            pos: self.pos
            size: self.size

<Compas>
    background_normal: 'images/compas.png'

<Filechooser>:
    #label: label 
    # Providing the orientation
    orientation: 'vertical'

    # Creating the File list / icon view
    BoxLayout:
 
        # Creating list view one side
        FileChooserListView:
            canvas.before:
                Color:
                    rgb: .4, .5, .5
                Rectangle:
                    pos: self.pos
                    size: self.width,root.height
            path: './scenario'
            on_selection: root.select(*args)
 
        # Creating Icon view other side
        FileChooserIconView:
            canvas.before:
                Color:
                    rgb: .5, .4, .5
                Rectangle:
                    pos: self.pos
                    size: self.size
            path: './scenario'
            on_selection: root.select(*args)
 
    # Adding label
    #Label:
     #   id: label
     #   size_hint_y: .1
     #   canvas.before:
     #       Color:
     #           rgb: .5, .5, .4
      #      Rectangle:
      #          pos: self.pos
      #          size: self.size

<Graphics> 
    BoxLayout:
        orientation: 'vertical'
        size_hint: 1,1

        BoxLayout:
            orientation:'horizontal'
            size_hint: None, None
            size: root.size
            Compas:
                id: compas
                size_hint: None,None
                size: 120,120
                pos_hint: {"x":0, "top":1}
            BoxLayout:
                orientation: 'vertical'
                pos_hint: {"x":0, "top":1}
                size_hint: None,None
                size: 300,160
                BoxLayout:
                    orientation: 'horizontal'
                    size_hint: None,None
                    size: 300, 80
                    pos: 0, self.height-80
                    Label:
                        text: 'Engine'
                        size: 320,80
                    Switch:
                        size: 100,80
                        id: switch
                        on_active: root.engine_on(self.active)

                BoxLayout:
                    orientation: 'horizontal'
 
                    Slider:
                        id: thrust
                        min: 1
                        max: 100
                        step: 1
                        value: 100
                        size_hint: None,None
                        size: 400,60
                        on_value: root.change_thrust(self.value)
                        orientation: 'horizontal'
                        pos_hint: {"x":0, "top":1}

            RelativeLayout:
                orientation:'horizontal'
                BoxLayout:
                    orientation: 'vertical'
                    size: 500,160
                    pos_hint: { 'right': 1, 'top':1}
                    size_hint: None, None
                    BoxLayout:
                        orientation:'horizontal'
                        size_hint: None, None
                        size: 500,80
                        pos_hint: { 'right': 1, 'top':1}
                        Label:
                            size: 200,80
                            text: 'Time Factor'
                            pos_hint: { 'right': 1, 'top':1}
                        Slider:
                            id:time
                            min:0
                            max:100
                            step:1
                            value:1
                            size: 300,80
                            size_hint: None, None
                            pos_hint: { 'right': 1, 'top':1}
                            orientation: 'horizontal'
                            on_value: root.change_time(self.value)
                    BoxLayout:
                        orientation:'horizontal'
                        size_hint: None, None
                        size: 500,80
                        pos_hint: { 'right': 1, 'top':1}
                        Label:
                            size: 200,80
                            text: 'Zoom Factor'
                            pos_hint: { 'right': 1, 'top':1}
                        Slider:
                            id:zoom
                            min:0
                            max:100
                            step:1
                            value:1
                            size: 300,80
                            size_hint: None, None
                            pos_hint: { 'right': 1, 'top':1}
                            orientation: 'horizontal'
                            on_value: root.change_zoom(self.value)
                    


        BoxLayout:
            orientation: 'horizontal'
            spacing: 5
            Button: 
                size_hint: None,None
                text: '<'
                size: 20,30
                on_press: root.on_orbiter_touch(-1)
                background_normal: ''
                background_color: 1, .3, .4, .85
            Label:
                id: orbiter_control
                text : 'orbiter'
                size_hint: None,None
                size: 200,30
            Button: 
                size_hint: None,None
                text: '>'
                size: 20,30
                on_press: root.on_orbiter_touch(1)
                background_normal: ''
                background_color: 1, .3, .4, .85
            Button: 
                size_hint: None,None
                text: 'Control'
                size: 100,30
                on_press: root.change_orbiter()
                background_normal: ''
                background_color: 0.5, 0.5, 0.5, .85
            Button: 
                size_hint: None,None
                text: 'GoTo'
                size: 100,30
                background_normal: ''
                background_color: 0.2, 0.2, 0.5, .85
            Button:
                size_hint: None,None
                text: 'drop stage'
                size: 180,30
                background_normal: ''
                background_color: 0.4, 0.2, 0.5, .85
                on_press: root.drop_stage()

<MainWindow>
    canvas.before:
        Rectangle:
            source : 'images/galaxy.jpeg'
            pos : self.pos
            size : self.width, self.height
    BoxLayout:
        size: root.width,root.height
        orientation: 'vertical'
        Graphics:
            id: graphics

            size_hint: 1, 0.8
            pos:self.pos
            #size: self.width, self.height
        ColoredLabel:
            id: controlInfoLabel
            #size_hint: .5,.1
            size_hint: None, None
            size: 600,100
            bg_color: (0, 0, 1, 0.25)
        ColoredLabel:
            id: infoLabel
            #size_hint: 1,.1
            size_hint: None, None
            size: root.width, 100
            bg_color: 0, 1, 0, 0.25


